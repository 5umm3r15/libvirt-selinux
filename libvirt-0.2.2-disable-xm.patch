diff -rup libvirt-0.2.2/src/xen_unified.c libvirt-0.2.2.new/src/xen_unified.c
--- libvirt-0.2.2/src/xen_unified.c	2007-04-17 04:38:52.000000000 -0400
+++ libvirt-0.2.2.new/src/xen_unified.c	2007-05-01 16:49:54.000000000 -0400
@@ -112,6 +112,11 @@ xenUnifiedOpen (virConnectPtr conn, cons
     for (i = 0; i < nb_drivers; ++i) {
         int failed_to_open = 1;
 
+        /* Only use XM driver for Xen <= 3.0.3 (ie xendConfigVersion <= 2) */
+        if (drivers[i] == &xenXMDriver &&
+            priv->xendConfigVersion > 2)
+            continue;
+
         /* Ignore proxy for root */
         if (i == proxy_offset && getuid() == 0)
             continue;
